/* ========= TOKENS ========= */
:root {
  /* colors */
  --bg: #121212;
  --surface: #1e1e1e;
  --surface-hover: #252525;
  --text: #e0e0e0;
  --muted: #a3a3a3;
  --border: #2a2a2a;
  --primary: #4da6ff;
  --success: #22c55e;
  --warning: #f59e0b;
  --danger: #ef4444;

  /* elevation */
  --shadow-1: 0 1px 6px rgba(0,0,0,.6);
  --shadow-2: 0 2px 8px rgba(0,0,0,.5);

  /* radii */
  --r-sm: .375rem;
  --r-md: .5rem;
  --r-lg: .75rem;
  --r-xl: 1rem;

  /* spacing (4px grid) */
  --sp-1: .25rem;
  --sp-2: .5rem;
  --sp-3: .75rem;
  --sp-4: 1rem;
  --sp-5: 1.25rem;
  --sp-6: 1.5rem;
  --sp-8: 2rem;

  /* type */
  --fs-0: .875rem;
  --fs-1: 1rem;
  --fs-2: 1.125rem;
  --fs-3: 1.25rem;
  --lh: 1.55;

  /* layout */
  --container: 1200px;

  /* transitions */
  --dur: .18s;
  --easing: cubic-bezier(.2,.6,.2,1);
}

/* ========= RESET & BASE ========= */
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  * { animation: none !important; transition: none !important; }
}
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: var(--lh);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Headings with sensible rhythm */
h1, h2, h3 { font-weight: 700; line-height: 1.2; }
h1 { font-size: clamp(1.5rem, 1rem + 2vw, 2rem); margin-bottom: var(--sp-4); }
h2 { font-size: clamp(1.25rem, .9rem + 1.2vw, 1.5rem); margin-bottom: var(--sp-3); }
h3 { font-size: 1.125rem; margin-bottom: var(--sp-2); }
p, ul, ol { margin-bottom: var(--sp-4); color: #d4d4d4; }
hr { border: 0; height: 1px; background: var(--border); margin: var(--sp-6) 0; }

/* Links */
a {
  color: var(--primary);
  text-decoration: none;
  text-underline-offset: .18em;
  transition: color var(--dur) var(--easing), text-decoration-color var(--dur) var(--easing);
}
a:hover { text-decoration: underline; }
a:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
  border-radius: var(--r-sm);
}

/* ========= LAYOUT HELPERS ========= */
.container {
  width: 100%;
  max-width: var(--container);
  margin: 0 auto;
  padding: var(--sp-4);
}

.flex { display: flex; gap: var(--sp-4); }
.flex-col { display: flex; flex-direction: column; gap: var(--sp-4); }
.center-between { display:flex; align-items:center; justify-content:space-between; gap:var(--sp-4); }

.grid { display: grid; gap: var(--sp-4); }
.grid-2 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
.grid-3 { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }

.goals-grid {
  grid-template-columns: repeat(3, 1fr); /* exactly 3 columns */
}

.account-grid {
  grid-template-columns: repeat(2, 1fr);
}

@media (max-width: 768px) {
  .flex { flex-direction: column; }
}

/* ========= SURFACES ========= */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: var(--sp-5);
  box-shadow: var(--shadow-2);
  transition: background var(--dur) var(--easing), border-color var(--dur) var(--easing), transform var(--dur) var(--easing);
}
.card:hover { background: var(--surface-hover); border-color: #333; transform: translateY(-1px); }

/* ========= NAVBAR ========= */
.navbar {
  position: sticky; top: 0; z-index: 50;
  background: color-mix(in srgb, var(--surface) 92%, transparent);
  backdrop-filter: saturate(1.2) blur(6px);
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow-1);
}
.nav-container { max-width: var(--container); margin: 0 auto; padding: var(--sp-3) var(--sp-4); }
.nav-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--sp-4);
}
.nav-logo { font-size: 1.125rem; font-weight: 700; color: var(--primary); letter-spacing:.2px; }

.nav-links {
  display: flex;
  align-items: center;
  gap: var(--sp-4);
  list-style: none;
  margin: 0;
  padding: 0;
}
.nav-links .btn {
  padding: .45rem 1rem;
  border-radius: var(--r-md);
  line-height: 1.2;
}
.nav-links a {
  color: var(--text); font-weight: 500;
  padding: .25rem .125rem; border-radius: var(--r-sm);
}
.nav-links a:hover { color: var(--primary); }
.nav-links a[aria-current="page"] { color: var(--primary); text-decoration: underline; text-underline-offset: .25em; }

.nav-toggle {
  display: none; background: none; border: none; font-size: 1.5rem; color: var(--text); cursor: pointer;
}

.nav-links .btn,
.nav-links .btn:hover {
  color: inherit;        /* keep the buttonâ€™s own color */
  text-decoration: none; /* prevent underline */
}

@media (max-width: 768px) {
  .nav-links {
    display: none;
    position: absolute;
    top: 60px; right: 1rem;
    flex-direction: column;
    gap: var(--sp-2);
    background: var(--surface);
    padding: var(--sp-4);
    border-radius: var(--r-md);
    box-shadow: var(--shadow-2);
    min-width: 200px;
  }
  .nav-links.active { display: flex; }
  .nav-toggle { display: block; }
}

/* ========= FORMS ========= */
input, select, textarea {
  width: 100%;
  background: #171717;
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  padding: .6rem .8rem;
  font-size: var(--fs-1);
  transition: border-color var(--dur) var(--easing), background var(--dur) var(--easing), box-shadow var(--dur) var(--easing);
}
input::placeholder, textarea::placeholder { color: var(--muted); }
input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 28%, transparent);
}

.form-row { display: grid; gap: var(--sp-4); grid-template-columns: repeat(12, 1fr); }
.form-col-6 { grid-column: span 6; }
.form-col-12 { grid-column: span 12; }

.form-page {
  min-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}
.form-card {
  width: 100%;
  max-width: 450px;
  padding: var(--sp-6);
  border-radius: var(--r-lg);
  background: var(--surface);
  box-shadow: var(--shadow-2);
  display: flex;
  flex-direction: column;
  gap: var(--sp-4);
}
.form-header {
  display: flex;
  align-items: center;
  gap: var(--sp-3);
}
.back-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
  cursor: pointer;
  transition: background .2s;
}
.back-btn:hover {
  background: #222;
}
@media (max-width: 768px) { .form-col-6 { grid-column: span 12; } }

/* Search bar (kept from your version, polished) */
.search-bar {
  display: flex; align-items: center; gap: var(--sp-3);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  padding: .55rem .9rem;
  box-shadow: var(--shadow-1);
}
.search-bar input { flex: 1; background: transparent; border: 0; color: var(--text); font-size: var(--fs-1); }
.search-bar button {
  background: var(--primary); color: #001629; border: 0; padding: .5rem .75rem;
  border-radius: var(--r-sm); font-weight: 600; cursor: pointer;
  transition: filter var(--dur) var(--easing);
}
.search-bar button:hover { filter: brightness(1.05); }

/* ========= BUTTONS ========= */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
  border: 1px solid transparent; border-radius: var(--r-md);
  padding: .6rem .9rem; font-weight: 600; font-size: var(--fs-1);
  cursor: pointer; transition: transform var(--dur) var(--easing), filter var(--dur) var(--easing), border-color var(--dur) var(--easing);
}
.btn:active { transform: translateY(1px); }

.btn-primary { background: var(--primary); color: #001629; }
.btn-outline { background: transparent; color: var(--text); border-color: var(--border); }
.btn-danger { background: var(--danger); color: #21060a; }
.btn:hover { filter: brightness(1.2); }

.btn-dark {
  background: #1e1e1e;
  color: #fff;
  border: 1px solid #333;
}
.btn-dark:hover {
  background: #2a2a2a;
}

/* ========= TAGS / BADGES ========= */
.tag, .badge {
  display: inline-block;
  background: #222;
  border: 1px solid var(--border);
  color: var(--text);
  font-size: var(--fs-0);
  padding: .25rem .6rem;
  border-radius: 999px;
}

.tag--blue { background: #3b82f6; color: #fff; }

.badge--success { background: color-mix(in srgb, var(--success) 22%, #1a1a1a); }
.badge--warning { background: color-mix(in srgb, var(--warning) 22%, #1a1a1a); }
.badge--danger  { background: color-mix(in srgb, var(--danger) 22%, #1a1a1a); }

/* ========= PROFILE / GOALS (yours, refined) ========= */
.profile-header { display: flex; align-items: center; gap: var(--sp-4); }
.profile-pic { width: 80px; height: 80px; border-radius: 50%; background: #333; flex-shrink: 0; }
.profile-info { flex: 1; }

.goal-header { display: flex; flex-direction: column; gap: var(--sp-4); }
.goal-img {
  width: 100%; max-height: 300px; object-fit: cover;
  border-radius: var(--r-md); background: #222; border: 1px solid var(--border);
}

.card a {
  display: block;              /* keeps whole card clickable */
  color: inherit;              /* inherit text color */
  text-decoration: none;       /* remove underline */
}

.card a:hover {
  text-decoration: none;       /* prevent underline on hover */
}

.clamp-1 {
  display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical;
  overflow: hidden;
}
.clamp-2 {
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
  overflow: hidden;
}
.clamp-3 {
  display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ========= TABLES ========= */
.table {
  width: 100%; border-collapse: collapse; font-size: var(--fs-0);
  border: 1px solid var(--border); border-radius: var(--r-md); overflow: hidden;
}
.table th, .table td { padding: .75rem 1rem; border-bottom: 1px solid var(--border); }
.table thead th { background: #171717; text-align: left; color: #d4d4d4; }
.table tbody tr:hover { background: #191919; }

/* ========= UTILITIES ========= */
.muted { color: var(--muted); }
.divider { height:1px; background: var(--border); border:0; }
.rounded { border-radius: var(--r-md); }
.hidden { display: none !important; }
.sr-only { position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* ========= TOASTS (optional) ========= */
.toast {
  position: fixed; right: var(--sp-4); bottom: var(--sp-4);
  background: var(--surface); color: var(--text);
  border: 1px solid var(--border); border-radius: var(--r-md);
  box-shadow: var(--shadow-2); padding: .75rem 1rem;
}

/* ========= ACTIVE STATES & ERRORS ========= */
.is-invalid { border-color: var(--danger) !important; }
.help { font-size: .8rem; color: var(--muted); margin-top: .25rem; }
.error { color: var(--danger); }

/* Progress bar */
.progress {
  width: 100%;
  height: .6rem;
  background: #1a1a1a;
  border: 1px solid var(--border);
  border-radius: 999px;
  overflow: hidden;
}
.progress-bar {
  height: 100%;
  background: var(--primary);
}

/* Vertical stack list used for tasks/comments */
.stack-list { list-style: none; display: flex; flex-direction: column; gap: var(--sp-3); }
.stack-item {
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  padding: var(--sp-4);
  background: #171717;
}

/* Compact key-value meta list */
.meta { list-style: none; display: grid; gap: .5rem; }
.meta li { display: flex; align-items: center; justify-content: space-between; gap: var(--sp-3); }

.goal-owner {
  color: var(--primary); /* your theme blue (#4da6ff) */
  font-size: 0.9rem;
  font-weight: 500;
  margin: 0 0 var(--sp-3);
}

.goal-owner a {
  color: var(--primary);       /* your theme blue (#4da6ff) */
  font-weight: 500;
  text-decoration: none;       /* no underline by default */
  transition: color 0.2s;
}
.goal-owner a:hover {
  color: var(--text);
}

.messages {
  margin-bottom: var(--sp-4);
  display: flex;
  flex-direction: column;
  gap: var(--sp-2);
}

/* Alert container */
.alert {
  display: flex;
  align-items: center;          /* center text + icon vertically */
  justify-content: space-between;
  padding: .75rem 1rem;
  border-radius: var(--r-md);
  border: 1px solid transparent;
  font-size: 0.95rem;
}

/* Message text */
.alert-text {
  flex: 1;                      /* take up all space except icon */
  margin-right: .75rem;
}

/* Close button */
.alert-close {
  background: none;
  border: none;
  color: inherit;
  cursor: pointer;
  font-size: 1.1rem;
  display: flex;
  align-items: center;
}

/* Variants by message type */
.alert.success {
  background: color-mix(in srgb, var(--success) 15%, #1a1a1a);
  border-color: var(--success);
  color: var(--success);
}
.alert.error {
  background: color-mix(in srgb, var(--danger) 15%, #1a1a1a);
  border-color: var(--danger);
  color: var(--danger);
}
.alert.warning {
  background: color-mix(in srgb, var(--warning) 20%, #1a1a1a);
  border-color: var(--warning);
  color: var(--warning);
}
.alert.info {
  background: color-mix(in srgb, var(--primary) 15%, #1a1a1a);
  border-color: var(--primary);
  color: var(--primary);
}

/* Base button style */
.btn-action {
  display: inline-flex;
  align-items: center;
  gap: .4rem;
  padding: .4rem .75rem;
  border-radius: var(--r-md);
  font-size: 0.9rem;
  font-weight: 500;
  background: transparent;      /* outlined look */
  text-decoration: none;
  transition: background .2s, color .2s, filter .2s;
}

/* Variants */
.btn-add {
  border: 2px solid #22c55e;
  color: #22c55e;
}
.btn-add:hover {
  background: rgba(34, 197, 94, 0.15);
}

.btn-edit {
  border: 2px solid #f59e0b; /* var(--warning) if you defined it */
  color: #f59e0b;
}
.btn-edit:hover {
  background: rgba(245, 158, 11, 0.15);
}

.btn-delete {
  border: 2px solid #ef4444;
  color: #ef4444;
}
.btn-delete:hover {
  background: rgba(239, 68, 68, 0.15);
}
